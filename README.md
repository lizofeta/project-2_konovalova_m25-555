# project-2_konovalova_m25-555

# primitive database 

## Описание 

Это примитивная консольная база данных, написанная на Python. 
Поддерживаются команды по созданию, управлению и удалению таблиц.

## Установка 

1. Установите pip и poetry (если еще не установлен) 
```bash
sudo apt install python3-pip
sudo apt install python3-poetry
```

2. Клонируйте репозиторий (если работаете с git) и перейдите в директорию проекта

Клонирование:
```bash
git clone https://github.com/lizofeta/project-2_konovalova_m25-555.git
```

Переход в директорию проекта:
```bash
cd project-2_konovalova_m25-555
```

Если вы скачали zip-архив, распакуйте его в удобное для вас место. 
Затем откройте терминал и перейдите в директорию проекта:
```bash
cd [путь_к_директории_проекта]
```

3. Установите зависимости проекта 
```bash
poetry install
```

## Запуск

Запустить базу данных можно по команде:
```bash
make database
```

## Управление таблицами

Возможные команды:

- <command> create_table <имя_таблицы> <столбец1:тип> <столбец2:тип> .. - создать таблицу
- <command> list_tables - показать список всех таблиц
- <command> drop_table <имя_таблицы> - удалить таблицу
- <command> exit - выход из программы
- <command> help - справочная информация

## Asciinema 
Пример использования в записи
- Установка пакета 
- Запуск базы данных
- Проверка таблиц
- Создание таблицы
- Удаление таблицы

[![asciicast](https://asciinema.org/a/lSUarc50DaorhZybwLOVScBSG.svg)](https://asciinema.org/a/lSUarc50DaorhZybwLOVScBSG)

Link: https://asciinema.org/a/lSUarc50DaorhZybwLOVScBSG


## CRUD-операции

- insert into <имя_таблицы> values (<значение1>, <значение2>, ...) - создать запись.
- select from <имя_таблицы> where <столбец> = <значение> - прочитать записи по условию.
- select from <имя_таблицы> - прочитать все записи.
- update <имя_таблицы> set <столбец1> = <новое_значение1> where <столбец_условия> = <значение_условия> - обновить запись.
- delete from <имя_таблицы> where <столбец> = <значение> - удалить запись.
- info <имя_таблицы> - вывести информацию о таблице.

Демонстрация всех команд:

[![asciicast](https://asciinema.org/a/aUNMGN4pya4Ii2ZT9PuaZnZ1S.svg)](https://asciinema.org/a/aUNMGN4pya4Ii2ZT9PuaZnZ1S)

Link: https://asciinema.org/a/aUNMGN4pya4Ii2ZT9PuaZnZ1S

## Улучшение производительности

### Обработка ошибок 

В БД реализован декоратор обработки ошибок - @handle_db_errors, который предотвращает аварийное завершение программы.

Назначение: повышение отказоустойчивости приложения.

### Подтверждение действия 

В БД реализован декоратор подтверждения действий (@confirm_action) при удалении информации из базы данных, а именно:
- Удаление таблицы
- Удаление записи 

Этот декоратор обеспечивает дополнительный уровень безопасности, запрашивая у пользователя подтверждение перед выполнением потенциально разрушительных действий (удаление данных). 
Так, программа предотвратит случайное удаление. 

### Замер времени выполнения некоторых функций

В БД реализован декоратор замера времени - @log_time, позволяющийотследить производительность функций.
Декоратор применен к функциям:
- select
- insert

### Кэширование запросов select

В БД реализовано кэширование запросов, позволяющее ускорить время выполнения функции select для повторяющихся запросов. Если один и тот же запрос select выполняется несколько раз, результат будет взят из кэша.

## Asciinema : демонстрация всех команд и возможностей БД

[![asciicast](https://asciinema.org/a/U3YDcqP57rWrHfJXuuz2Jz2wH.svg)](https://asciinema.org/a/U3YDcqP57rWrHfJXuuz2Jz2wH)

Link: https://asciinema.org/a/U3YDcqP57rWrHfJXuuz2Jz2wH